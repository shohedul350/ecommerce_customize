{"ast":null,"code":"import { useState, useCallback, useEffect } from 'react';\nimport debounce from './debounce'; // maybe use a hook instead?\n\nfunction useDimensions(liveMeasure = true, delay = 250, initialDimensions = {}) {\n  const {\n    0: dimensions,\n    1: setDimensions\n  } = useState(initialDimensions);\n  const {\n    0: node,\n    1: setNode\n  } = useState(null);\n  const ref = useCallback(newNode => {\n    setNode(newNode);\n  }, []);\n  useEffect(() => {\n    // need ref to continue\n    if (!node) {\n      return;\n    }\n\n    const measure = () => {\n      window.requestAnimationFrame(() => {\n        const newDimensions = node.getBoundingClientRect();\n        setDimensions(newDimensions);\n      });\n    }; // invoke measure right away\n\n\n    measure();\n\n    if (liveMeasure) {\n      const debounceMeasure = debounce(measure, delay);\n\n      if ('ResizeObserver' in window) {\n        const resizeObserver = new ResizeObserver(debounceMeasure);\n        resizeObserver.observe(node);\n        window.addEventListener('scroll', debounceMeasure);\n        return () => {\n          resizeObserver.disconnect();\n          window.removeEventListener('scroll', debounceMeasure);\n        };\n      }\n\n      window.addEventListener('resize', debounceMeasure);\n      window.addEventListener('scroll', debounceMeasure);\n      return () => {\n        window.removeEventListener('resize', debounceMeasure);\n        window.removeEventListener('scroll', debounceMeasure);\n      };\n    }\n  }, [node, liveMeasure, delay]);\n  return [ref, dimensions, node];\n}\n\nexport default useDimensions; // Usage\n// function App() {\n//   const [wrapperRef, dimensions] = useDimensions();\n//   return (\n//     <div ref={wrapperRef}>\n//       height: {dimensions.height}\n//       width: {dimensions.width}\n//     </div>\n//   );\n// }","map":{"version":3,"names":["useState","useCallback","useEffect","debounce","useDimensions","liveMeasure","delay","initialDimensions","dimensions","setDimensions","node","setNode","ref","newNode","measure","window","requestAnimationFrame","newDimensions","getBoundingClientRect","debounceMeasure","resizeObserver","ResizeObserver","observe","addEventListener","disconnect","removeEventListener"],"sources":["/media/shohedul/New Volume/shop/helper/useComponentSize.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\nimport debounce from './debounce'; // maybe use a hook instead?\n\nfunction useDimensions(\n  liveMeasure = true,\n  delay = 250,\n  initialDimensions = {}\n) {\n  const [dimensions, setDimensions] = useState(initialDimensions);\n  const [node, setNode] = useState(null);\n\n  const ref = useCallback(newNode => {\n    setNode(newNode);\n  }, []);\n\n  useEffect(() => {\n    // need ref to continue\n    if (!node) {\n      return;\n    }\n\n    const measure = () => {\n      window.requestAnimationFrame(() => {\n        const newDimensions = node.getBoundingClientRect();\n        setDimensions(newDimensions);\n      });\n    };\n    // invoke measure right away\n    measure();\n\n    if (liveMeasure) {\n      const debounceMeasure = debounce(measure, delay);\n\n      if ('ResizeObserver' in window) {\n        const resizeObserver = new ResizeObserver(debounceMeasure);\n        resizeObserver.observe(node);\n        window.addEventListener('scroll', debounceMeasure);\n\n        return () => {\n          resizeObserver.disconnect();\n          window.removeEventListener('scroll', debounceMeasure);\n        };\n      }\n      window.addEventListener('resize', debounceMeasure);\n      window.addEventListener('scroll', debounceMeasure);\n\n      return () => {\n        window.removeEventListener('resize', debounceMeasure);\n        window.removeEventListener('scroll', debounceMeasure);\n      };\n    }\n  }, [node, liveMeasure, delay]);\n\n  return [ref, dimensions, node];\n}\n\nexport default useDimensions;\n\n// Usage\n\n// function App() {\n//   const [wrapperRef, dimensions] = useDimensions();\n\n//   return (\n//     <div ref={wrapperRef}>\n//       height: {dimensions.height}\n//       width: {dimensions.width}\n//     </div>\n//   );\n// }\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAAmC;;AAEnC,SAASC,aAAT,CACEC,WAAW,GAAG,IADhB,EAEEC,KAAK,GAAG,GAFV,EAGEC,iBAAiB,GAAG,EAHtB,EAIE;EACA,MAAM;IAAA,GAACC,UAAD;IAAA,GAAaC;EAAb,IAA8BT,QAAQ,CAACO,iBAAD,CAA5C;EACA,MAAM;IAAA,GAACG,IAAD;IAAA,GAAOC;EAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC;EAEA,MAAMY,GAAG,GAAGX,WAAW,CAACY,OAAO,IAAI;IACjCF,OAAO,CAACE,OAAD,CAAP;EACD,CAFsB,EAEpB,EAFoB,CAAvB;EAIAX,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACQ,IAAL,EAAW;MACT;IACD;;IAED,MAAMI,OAAO,GAAG,MAAM;MACpBC,MAAM,CAACC,qBAAP,CAA6B,MAAM;QACjC,MAAMC,aAAa,GAAGP,IAAI,CAACQ,qBAAL,EAAtB;QACAT,aAAa,CAACQ,aAAD,CAAb;MACD,CAHD;IAID,CALD,CANc,CAYd;;;IACAH,OAAO;;IAEP,IAAIT,WAAJ,EAAiB;MACf,MAAMc,eAAe,GAAGhB,QAAQ,CAACW,OAAD,EAAUR,KAAV,CAAhC;;MAEA,IAAI,oBAAoBS,MAAxB,EAAgC;QAC9B,MAAMK,cAAc,GAAG,IAAIC,cAAJ,CAAmBF,eAAnB,CAAvB;QACAC,cAAc,CAACE,OAAf,CAAuBZ,IAAvB;QACAK,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkCJ,eAAlC;QAEA,OAAO,MAAM;UACXC,cAAc,CAACI,UAAf;UACAT,MAAM,CAACU,mBAAP,CAA2B,QAA3B,EAAqCN,eAArC;QACD,CAHD;MAID;;MACDJ,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkCJ,eAAlC;MACAJ,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkCJ,eAAlC;MAEA,OAAO,MAAM;QACXJ,MAAM,CAACU,mBAAP,CAA2B,QAA3B,EAAqCN,eAArC;QACAJ,MAAM,CAACU,mBAAP,CAA2B,QAA3B,EAAqCN,eAArC;MACD,CAHD;IAID;EACF,CApCQ,EAoCN,CAACT,IAAD,EAAOL,WAAP,EAAoBC,KAApB,CApCM,CAAT;EAsCA,OAAO,CAACM,GAAD,EAAMJ,UAAN,EAAkBE,IAAlB,CAAP;AACD;;AAED,eAAeN,aAAf,C,CAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}