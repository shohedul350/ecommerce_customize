{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"page\"];\n\nvar _this = this,\n    _jsxFileName = \"/media/shohedul/New Volume/shop/containers/Banner/Banner.tsx\",\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useContext, useCallback } from 'react';\nimport { useRouter } from 'next/router';\nimport { Waypoint } from 'react-waypoint';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { SearchContext } from 'contexts/search/search.context';\nimport { useStickyDispatch } from 'contexts/app/app.provider';\nimport { FormattedMessage } from 'react-intl';\nimport { BannerWrapper, BannerHeading, BannerSubHeading, BannerComponent } from './Banner.style';\n\nvar Banner = function Banner(_ref) {\n  _s3();\n\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$();\n\n  var imageUrl = _ref.imageUrl,\n      intlTitleId = _ref.intlTitleId,\n      intlDescriptionId = _ref.intlDescriptionId;\n\n  var _useContext = useContext(SearchContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var router = useRouter(); // const { text } = state;\n\n  var pathname = router.pathname;\n\n  var handleSearchInput = function handleSearchInput(text) {\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread(_objectSpread({}, state), {}, {\n        text: text\n      })\n    });\n  };\n\n  function handleClickSearchButton() {\n    var page = state.page,\n        urlState = _objectWithoutProperties(state, _excluded);\n\n    router.push({\n      pathname: pathname,\n      query: _objectSpread({}, urlState)\n    }, {\n      pathname: pathname === '/' ? \"\".concat(pathname, \"grocery\") : pathname,\n      query: _objectSpread({}, urlState)\n    }, {\n      shallow: true\n    });\n  }\n\n  var useDispatch = useStickyDispatch();\n  var setSticky = useCallback(_s(function () {\n    _s();\n\n    return useDispatch({\n      type: 'SET_STICKY'\n    });\n  }, \"jI3HA1r1Cumjdbu14H7G+TUj798=\", false, function () {\n    return [useDispatch];\n  }), [useDispatch]);\n  var removeSticky = useCallback(_s2(function () {\n    _s2();\n\n    return useDispatch({\n      type: 'REMOVE_STICKY'\n    });\n  }, \"jI3HA1r1Cumjdbu14H7G+TUj798=\", false, function () {\n    return [useDispatch];\n  }), [useDispatch]);\n\n  var onWaypointPositionChange = function onWaypointPositionChange(_ref2) {\n    var currentPosition = _ref2.currentPosition;\n\n    if (!currentPosition || currentPosition === 'above') {\n      setSticky();\n    }\n  };\n\n  return __jsx(BannerWrapper, {\n    style: {\n      backgroundImage: \"url(\".concat(imageUrl, \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, __jsx(BannerComponent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, __jsx(BannerHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: intlTitleId,\n    defaultMessage: \"Set Your Title Through Language File\",\n    values: {\n      minute: 90\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  })), __jsx(BannerSubHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: intlDescriptionId,\n    defaultMessage: \"Set Your Description Through Language File\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), __jsx(SearchBox, {\n    style: {\n      width: 700,\n      boxShadow: '0 21px 36px rgba(0,0,0,0.05)',\n      borderRadius: '6px',\n      overflow: 'hidden'\n    },\n    handleSearch: function handleSearch(value) {\n      return handleSearchInput(value);\n    },\n    value: state.text || '',\n    onClick: handleClickSearchButton,\n    className: \"banner-search\",\n    pathname: pathname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), __jsx(Waypoint, {\n    onEnter: removeSticky,\n    onLeave: setSticky,\n    onPositionChange: onWaypointPositionChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s3(Banner, \"lvyq66s6k5NPIfeIORaf0eRGGaQ=\", false, function () {\n  return [useRouter, useStickyDispatch];\n});\n\n_c = Banner;\nexport default Banner;\n\nvar _c;\n\n$RefreshReg$(_c, \"Banner\");","map":{"version":3,"names":["React","useContext","useCallback","useRouter","Waypoint","SearchBox","SearchContext","useStickyDispatch","FormattedMessage","BannerWrapper","BannerHeading","BannerSubHeading","BannerComponent","Banner","imageUrl","intlTitleId","intlDescriptionId","state","dispatch","router","pathname","handleSearchInput","text","type","payload","handleClickSearchButton","page","urlState","push","query","shallow","useDispatch","setSticky","removeSticky","onWaypointPositionChange","currentPosition","backgroundImage","minute","width","boxShadow","borderRadius","overflow","value"],"sources":["/media/shohedul/New Volume/shop/containers/Banner/Banner.tsx"],"sourcesContent":["import React, { useContext, useCallback } from 'react';\nimport { useRouter } from 'next/router';\nimport { Waypoint } from 'react-waypoint';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { SearchContext } from 'contexts/search/search.context';\nimport { useStickyDispatch } from 'contexts/app/app.provider';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  BannerWrapper,\n  BannerHeading,\n  BannerSubHeading,\n  BannerComponent,\n} from './Banner.style';\n\ntype BannerProps = {\n  imageUrl: string;\n  intlTitleId: string;\n  intlDescriptionId: string;\n};\n\nconst Banner: React.FC<BannerProps> = ({\n  imageUrl,\n  intlTitleId,\n  intlDescriptionId,\n}) => {\n  const { state, dispatch } = useContext(SearchContext);\n  const router = useRouter();\n  // const { text } = state;\n\n  const { pathname } = router;\n\n  const handleSearchInput = (text: string) => {\n    dispatch({\n      type: 'UPDATE',\n      payload: {\n        ...state,\n        text,\n      },\n    });\n  };\n\n  function handleClickSearchButton() {\n    const { page, ...urlState } = state;\n\n    router.push(\n      {\n        pathname: pathname,\n        query: { ...urlState },\n      },\n      {\n        pathname: pathname === '/' ? `${pathname}grocery` : pathname,\n        query: { ...urlState },\n      },\n      { shallow: true }\n    );\n  }\n  const useDispatch = useStickyDispatch();\n  const setSticky = useCallback(() => useDispatch({ type: 'SET_STICKY' }), [\n    useDispatch,\n  ]);\n  const removeSticky = useCallback(\n    () => useDispatch({ type: 'REMOVE_STICKY' }),\n    [useDispatch]\n  );\n\n  const onWaypointPositionChange = ({ currentPosition }) => {\n    if (!currentPosition || currentPosition === 'above') {\n      setSticky();\n    }\n  };\n\n  return (\n    <BannerWrapper\n      style={{\n        backgroundImage: `url(${imageUrl})`,\n      }}\n    >\n      <BannerComponent>\n        <BannerHeading>\n          <FormattedMessage\n            id={intlTitleId}\n            defaultMessage='Set Your Title Through Language File'\n            values={{ minute: 90 }}\n          />\n        </BannerHeading>\n        <BannerSubHeading>\n          <FormattedMessage\n            id={intlDescriptionId}\n            defaultMessage='Set Your Description Through Language File'\n          />\n        </BannerSubHeading>\n\n        <SearchBox\n          style={{\n            width: 700,\n            boxShadow: '0 21px 36px rgba(0,0,0,0.05)',\n            borderRadius: '6px',\n            overflow: 'hidden',\n          }}\n          handleSearch={(value: string) => handleSearchInput(value)}\n          value={state.text || ''}\n          onClick={handleClickSearchButton}\n          className='banner-search'\n          pathname={pathname}\n        />\n        <Waypoint\n          onEnter={removeSticky}\n          onLeave={setSticky}\n          onPositionChange={onWaypointPositionChange}\n        />\n      </BannerComponent>\n    </BannerWrapper>\n  );\n};\nexport default Banner;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}